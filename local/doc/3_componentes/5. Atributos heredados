5. Atributos heredados

Vamos a ver como utilizar un comoonente reutilizable.

Utilizando un componente que muestre una alerta, pero esa alerta sirve para definir de diferente tipo.

Vamos a utilizarlo en diferentes ocntextos.

Vamos a utilizar TailwindCSS


Usaremos CDN de TailwindCSS via CDN empleando el script

 <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>

 dentro de la cabecera del archivo html


 Debajo del script podemos ya utilizar entonces los estilos

 <style type="text/tailwindcss">      @theme {        --color-clifford: #da373d;      }    </style>


 Esta es la forma mas facil, en un futuro se instalara tailwindcss con vite

Ahora todos nuestros elementos ya no tienen mas estilos, esto muestra que vamos correctos.

En el archivo .vue



En el componente padre tenemos nuestra estructura limpia.



<script setup></script>

<template></template>

<style scoped></style>


dEfinimos un nuevo componete

Creando un nuevo componente creando el archivo.


AlertComponent.vue

y en el componente padre, vamos a hacer uso de este componente en el componente proncipal, cimplemente dentro del template


<AlertComponent></AlertComponent>


en nuestro caso lo hacemos asi:

<AlertComponent/>


antes de dise√±ara, sabemos que podemos pasar informacon del componente padre al hijo.

para ello deifnimos una structura igual en el componente hijo. 

Podriamos pasarle un parametro mediante el atributo llamado classq que ese atributo tenga un estilo, y se tiene la posibilidad en el script del componente hijo definir una constante



Definiendo una constante con la definicion de los props

<script setup>
const props = defineProps(['class'])
</script>

y en un div imprimir el props 
<template>
  <div>
    {{ propsclass }}
  </div>
</template>

para lograr capturar


En el coonponente padre se importa

import AlertComponent from '@/components/AlertComponent.vue'

o bien

import AlertComponent from './components/AlertComponent.vue'

Capturamos ese valor, 

bg-red-600


pero si no capturamos ese props, por ejemplo en el template imprimimos un texto

  <div>
    Hola mundo
  </div>

y entoces vemos que ocurre


En Vue 3, la prop class no se pasa autom√°ticamente al root element del componente hijo a menos que:

El componente tenga un solo elemento ra√≠z, y

No est√©s usando inheritAttrs: false, y

No est√©s reemplazando manualmente los atributos del root.

Ahora mismo tu AlertComponent no usa la clase que recibe, porque simplemente tiene:

<div>Hola mundo mundial</div>


Vue no sabe que quieres aplicar la clase recibida aqu√≠.

‚úÖ Soluci√≥n 1: Pasar atributos autom√°ticamente (<script setup>)

En <script setup>, todos los atributos no definidos como props se pasan como attrs al elemento ra√≠z.

‚û°Ô∏è Esto significa que NO declares class como prop, porque entonces Vue deja de tratarla como atributo HTML.

Componente hijo SIN declarar class:
<!-- AlertComponent.vue -->
<script setup>
// NO declares la prop class
// const props = defineProps(['class']) ‚ùå
</script>

<template>
  <!-- Vue aplicar√° attrs (incluido class) autom√°ticamente -->
  <div class="p-4 text-white font-bold">
    Hola mundo mundial
  </div>
</template>


Ahora en el padre:

<AlertComponent class="bg-red-600" />


S√≠ aplicar√° bg-red-600 al <div> del hijo.

‚≠ê Resultado final

El hijo termina as√≠:

<div class="p-4 text-white font-bold bg-red-600">


Tailwind aplica los estilos correctamente.

‚ùó ¬øY si s√≠ quieres usar la prop class?

Entonces debes aplicarla manualmente:

<script setup>
const props = defineProps(['class'])
</script>

<template>
  <div :class="props.class" class="p-4 text-white font-bold">
    Hola mundo mundial
  </div>
</template>


O combinar clases:

<div :class="['p-4 text-white font-bold', props.class]">

üìå Recomendaci√≥n

Para clases, lo m√°s simple y recomendado en Vue 3:

‚úîÔ∏è No declares class como prop
‚úîÔ∏è Deja que Vue la pase como atributo autom√°ticamente

este segundo caso es el que nos funciona para nuestro caso aplicando el estilo deifnido en el padre en el hijo


<div :class="props.class" class="p-4 text-white font-bold">

y en el hijo aplicamos un texto en color blanco


Asiq ue cuando le pasamos atributos pero no lo capturamos como un prop debemos inyectarlo justamento en el elemento raiz que contiene a los elementos.

El div puede teneruna clase lo que hara vue es combinar varios atributos como es el caso del texto blanco




Imaginemos ahora que queremos que el atributo que estamos pasando del c omponente padre al componente hijo, no se aasigne al div raiz oprincipal si no que nos gustaria asignarolo al segudno div.

para lograrlo anularl el compoartamiento de vue y hacmoes.


aunque tambien podemos cambiar en cel componente hijo.


<script setup>

defineOptions({
    inheritAttrs: false,
});
</script>


Cuando hacemos esto suele ocurrir es que ya no intenta inyectar al div principal 
 class="bg-red-600" 




y entonces podremos ocuapar en el componente hijo

 <div class="p-4 text-white font-bold">Hola mundo mundial</div>

 aplicandose el estilo

 <div v-bind="$attrs">Hola mundo mundial</div>


 con ello se van a capturar todas aquellos atributos, queestamos pasando y que no han sido capturados como props

logrando nuevamente un color de fondo aplicado pero en esta ocacion en el segundo div.


Este comportamiento funciona para cualquier atributo.


Esto s util para cuando utilizamos, style, id, incluso eventos.


Una vez definido esto ahora trabajaremos con las alertas.


Copiamos el estilo, pegamos en el componente hijo.



<div class="p-4 mb-4 text-sm text-fg-brand-strong rounded-base bg-brand-softer" role="alert">
  <span class="font-medium">Info alert!</span> Change a few things up and try submitting again.
</div>





Debemos cambiar la linea en el componente hijo de la siguientemanera:

Cuando usas inheritAttrs: false, Vue ya no pasa autom√°ticamente los atributos (incluido class) al elemento ra√≠z.
Por eso tu clase bg-red-600 del componente padre no se est√° aplicando.

Si vas a usar inheritAttrs: false, entonces tienes que aplicar manualmente los atributos con useAttrs().






<script setup>
import { useAttrs } from 'vue'

defineOptions({
  inheritAttrs: false,
})

const attrs = useAttrs()
</script>

<template>
  <div
    v-bind="attrs"
    class="p-4 mb-4 text-sm text-fg-brand-strong rounded-base bg-brand-softer"
    role="alert"
  >
    <span class="font-medium">Info alert!</span>
    Change a few things up and try submitting again.
  </div>
</template>




v-bind="attrs" aplica todos los atributos enviados desde el padre
(incluyendo class="bg-red-600")

Vue combina la clase del padre con las clases base del hijo.

‚úî Ahora s√≠ se aplicar√° bg-red-600 correctamente.

‚≠ê Resultado final

El div final tendr√° algo como:

<div class="p-4 mb-4 text-sm text-fg-brand-strong rounded-base bg-brand-softer bg-red-600" role="alert">


Tailwind aplicar√° ambas clases (y la √∫ltima que defina un color gana).

üî• Bonus: Si quieres que la clase del padre sobrescriba el color

Tailwind aplica prioridad seg√∫n el orden de clases.

Si quieres que bg-red-600 reemplace bg-brand-softer, pon primero el v-bind:

<div
  v-bind="attrs"
  class="p-4 mb-4 text-sm text-fg-brand-strong rounded-base"
  role="alert"
>


Y quita bg-brand-softer.

üìå Alternativa sin inheritAttrs: false

Si NO necesitas control total, simplemente qu√≠talo y Vue har√° todo autom√°ticamente:

<script setup>
</script>

<template>
  <div
    class="p-4 mb-4 text-sm text-fg-brand-strong rounded-base bg-brand-softer"
    role="alert"
  >
    <span class="font-medium">Info alert!</span>
    Change a few things up and try submitting again.
  </div>
</template>


Y el padre:

<AlertComponent class="bg-red-600" />


Ya funcionar√≠a sin nada m√°s.



pero en el componnet padre definimos

<template>
  <AlertComponent />
</template>

y en el componente hijo
<script setup>
import { useAttrs } from 'vue'

defineOptions({
  inheritAttrs: false,
})

const attrs = useAttrs()
</script>

<template>
  <div
    v-bind="attrs"
    class="flex items-center p-4 mb-4 text-sm text-blue-800 border border-blue-300 rounded-lg bg-blue-50"
    role="alert"
  >
    <span class="font-medium">Info!</span>
    This is a default Tailwind/Flowbite alert.
  </div>
</template>






partiendo de esto me gsuaria que cambiaramos los colores de la alerta, para hacer esto 





pasaremos un atributo llamado type
<AlertComponent type="info" />

empezamos con un aalerta de tipo info




como le estamos mandando un atributo teneos que recibirlo en el componente hijo

<script setup>
    const props = defineProps({
      type: {
        type: String,
        default: 'info',
      },
    });
</script>

con un valor por defecto, para que tome ese valor.

Ahora para cambiar el color de la alerta

definimos otra constante

const alertColor = {}[]

al definir asi, evaluaremos algo como un siwtch, 




const alertColor = {}[props.type]

entonces valuaremos los props mediante un campo llamado type



Si dentro del props del tipy type tenemos un valor almacenado de tipo info y lo que queremos que se le atribuya a esa constante sea las sigueintes clases 



tenemos netonces:

info: 'text-blue-800 bg-blue-50',

elimiando esos valores de la clase de Tailwindcss en la alerta, podremos manejar el valor por defecto

y podremos asignar un valor por defecto

cquedando



const alertColor =
  {
    info: 'text-blue-800 bg-blue-50',
  }[props.type] || 'text-blue-800 bg-blue-50'

y el nombre alertColor vamos a asignarlo en el div de maenra dinamica;


de la siguente manera




<div
    :class="alertColor"
    v-bind="attrs"
    class="flex items-center p-4 mb-4 text-sm border border-blue-300 rounded-lg"
    role="alert"
  >
de primera instancia debe ser de color azul








Referencias.

https://tailwindcss.com/

Comenzar a usr Tailwindcss
https://tailwindcss.com/docs/installation/using-vite


Con CDN
https://tailwindcss.com/docs/installation/play-cdn

Alertas Tailwind CSS
https://flowbite.com/docs/components/alerts/

