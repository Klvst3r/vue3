8. Represntación de Listas

v-for es una directiva de Vue 3 que permite iterar sobre una lista de elementos y renderizarlos en la interfaz de usuario. Vamosa utilizar v-for para crear listas dinámicas y otros elementos iterativos.


Partimos de una app limpia


<script setup>
  
</script>

<template>

</template>


<style scoped>

</style>


Vamos aver como mostrar el contenido de un array

  let users = [
    'John Doe',
    'Jane Smith',
    'Alice Johnson',
    'Bob Brown',
    'Charlie Black',
  ]

Si hacemos interpolación podremos entornrar el siguiente resultado


[ "John Doe", "Jane Smith", "Alice Johnson", "Bob Brown", "Charlie Black" ]

de esto en el template
  {{ users }}

Normalmente es mostrarlo en una lista

  para v-for debemos pasar dos parametros, el array a recorrer y una variable donde se va almacenado el contenido da cada iteracipon
  <li v-for="user in users"></li>

    <ul>
    <li v-for="user in users">
      {{ user }}</li>
    </ul>

La directiva no solo permite  recuperar el contenido del array sino tambien el indice de los elementos


Recuperemos contenido e indice

  <ul>
    <li v-for="(user, index) in users">
      {{ index }} - {{ user }}</li>
    </ul>


Ahora tenemos una colección de elementos


//Colección de objetos
{
  'id': 1,
  'name': 'John Doe',
  },
  {
  'id': 2,
  'name': 'Jane Smith',
  },
  {
  'id': 3,
  'name': 'Alice Johnson',
  },
  {
  'id': 4,
  'name': 'Bob Brown',
  },
  {
  'id': 5,
  'name': 'Charlie Black',
  }

La idea es iterar entre los elementos


    <ul>
      <li v-for="user in users">
        {{ user.id }} - {{ user.name }}

      </li>
        
      </ul>

Si queremos destructurrar solo queremos id o nombre como variables separadas


<li v-for="{id, name} in users">
        {{ user.id }} - {{ user.name }}

      </li>

Con esto estamos recibiendo cada uno de estos objetos de manera destructurada con dos variables id y name


ahora podemos hacer refertencia a la variable id, y a la variable name


cuando utilizamos la destructuración podemos recuperar el indice,             

<li v-for="({id, name}, index) in users">

de esta manera podemos recupearr el indice


//Colección de objetos
{
  'id': 1,
  'name': 'John Doe',
  },
  {
  'id': 2,
  'name': 'Jane Smith',
  },
  {
  'id': 3,
  'name': 'Alice Johnson',
  },
  {
  'id': 4,
  'name': 'Bob Brown',
  },
  {
  'id': 5,
  'name': 'Charlie Black',
  }
];
</script>

<template>
    <ul>
      <li v-for="({id, name}, index) in users">
        {{ id }} -{{ name }}  ({{ index }})

      </li>
        
      </ul>
</template>



Regresando a la estructura inicial,

 <ul>
      <li v-for="user in users">
        {{ user.id }} - {{ user.name }}

      </li>
        
      </ul>

Habra casos en los cuales vamos a querer utilizar tanto bucles como condicionales, por ejemplo mostrar solo los usuarios cuyo id sea > 2

Para ello hacemos uso de la etiqueta template par apoder hacruso del v-for y dentro un aocndicional

quedando:

<template>
 <ul>
      <!-- <li v-for="user in users" v-if="user.id > 2">

        {{ user.id }} - {{ user.name }}

      </li> -->
      <template v-for="user in users">
        <li v-if="user.id > 2">
          {{ user.id }} - {{ user.name }}
        </li>

      </template>
        
      </ul>
</template>



