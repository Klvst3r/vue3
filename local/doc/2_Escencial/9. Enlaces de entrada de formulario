9. Enlaces de entrada de formulario


v-model es una directiva de Vue 3 que permite crear enlaces bidireccionales entre los datos y la interfaz de usuario. Vamos a utilizar v-model para crear formularios y otros elementos interactivos en tu aplicación.

Vamos a trabajar conformularios

Vamos a definir un array paises
Definiendo un formulario con un input y unboton debajo un a etiquta que mostrara los paises en una lista y el listado del pais


Recuperamos el indice del elekento del arreglo y se lo pasamos como llave al elemento


 <li v-for="(pais, index) in paises" :key="index">


  Se mostrara solo en caso de que por lo menos tengamos un pais

  <p v-if="paises.length">Paises</p>

  si paises.lenght es = 0 en booleano es falso po lo tanto no se mostraria esta etiqueta


  Asi que vamos en el formulario a estar en escucha del ebento submit y se evita el envie del formulario, y en lugar d eello se ejecuta la funcion save

  <form @submit.prevent="save">

  definimos un objeto reactivo y por lo tanto hay que importar la directiva reactiva de vue

  para despues enlacarlo con el objeto reactivo con la directiva v-model

<input type="text" v-model="name">

logramosque cualquier cambie en el input lo enviamos a la funcion name


HACEMOS NUESTRO ARRAYU REACTIVO
<script setup>
import { ref } from 'vue'

const name = ref('')
const paises = ref([])

function save() {
  // ejemplo: agregar name a paises
  /* if (name.value.trim() !== '') {
    paises.value.push(name.value)
    name.value = '' // limpiar input
  } */
  //Vamosa acceder al aray paises con el metodo push, pasamos el value del objeto
  oaises,push(name.value);
}
</script>

<template>
  <form @submit.prevent="save">
    <input type="text" v-model="name">
    <button>Guardar</button>
  </form>  

  <!-- {{ name }} -->

  <p v-if="paises.length">Paises</p>
  <ul>
    <li v-for="(pais, index) in paises" :key="index">
      {{ pais }}
    </li>
  </ul>
</template>

<style scoped></style>


Tendremos un pewueño error por que nuestro por que paises es un ref no un array directamente por ello cambiamos a 

paises.value.push(name.value); //agrtegamos un elemento

Porque:

ref([]) → crea un objeto reactivo que envuelve el valor real.

Para modificar el array que contiene, debes acceder mediante .value.

Logramos agregar elementos pero la idea es que se sigan manteniento


Tenemos el tema de entrada con inputs no solo podemos enlazarlo con inputs sino cualquier elemento del formulario

radio, checkbos, select, por ejemplo 

vamo s a enlazarlo con un textarea


ahora todo lo que escribmamos se visualizara


<script setup>
import { ref } from 'vue'

const name = ref('');

</script>

<template>
 <textarea v-model="name"></textarea>
 <p>{{ name }}</p>
</template>

<style scoped></style>



Definimos previamente una constantereactiva que recibira los valores referenciados por v-model

Enlazamos el text area con la constante name


anteriormente especificabamos el atributo name


<template>
  <div>
    <label>
      <input type="radio" value="1" name="numero">
      Uno
    </label>
  </div>
  <div>
    <label>
      <input type="radio" value="2" name="numero">
      Dos
    </label>
  </div>
  <div>
    <label>
      <input type="radio" value="3" name="numero">
      Tres
    </label>
  </div>
</template>
 

 para tener un solo valor en unconjunto de radios




El atributo name se utiliza cuando se envia el formulario pero en este caso eso no ocurre se envia y necesitamos enlzazarlo con alguna propiedad del setpup


Para ello definimos unobjeto reactivo llamado numero y su vlaor inicial es 1

const numero = ref(1);

const numero = ref(1);

</script>

<template>
  <div>
    <label>
      <input v-model="numero" type="radio" value="1">
      Uno
    </label>
  </div>
  <div>
    <label>
      <input v-model="numero" type="radio" value="2">
      Dos
    </label>
  </div>
  <div>
    <label>
      <input v-model="numero" type="radio" value="3">
      Tres
    </label>
  </div>

  {{ numero }}
</template>
 

 Si cmabiamos de radio el valor del valor cambiara


 Ahora si no estamos onc unput radio sino checkbox

 podemos seleccionar varios elementos

 por ejemplo un listado de paises


 <template>
  <div>
    <label>
      <input type="checkbox" value="mexico" name="paises[]">
      México
    </label>
  </div>
  <div>
    <label>
      <input type="checkbox" value="argentina" name="paises[]">
      Argentina
    </label>
  </div>
  <div>
    <label>
      <input type="checkbox" value="peru" name="paises[]">
      Perú
    </label>
  </div>

  {{ numero }}
</template>


ahora cada que se hace uncheck en el checkbos se almacenara el valor en un array paises


definimos el array vacio
const paises = ref([]);


vamos a cada uno de ellos y en vez del name colocamos v-model 

//Definimos el array paises

const paises = ref([]);

</script>

<template>
  <div>
    <label>
      <input type="checkbox" value="mexico" v-model="paises">
      México
    </label>
  </div>
  <div>
    <label>
      <input type="checkbox" value="argentina" v-model="paises">
      Argentina
    </label>
  </div>
  <div>
    <label>
      <input type="checkbox" value="peru" v-model="paises">
      Perú
    </label>
  </div>

  {{ paises }}
  
</template>
 


 ahora a medida que seleccionemos valores vemos el aray se asigna un valor, son los valores dentro del value, y asi sucesivamente, 


 con los selects



<script setup>
import { ref } from 'vue'

const numero = ref(1);

//Definimos el valor en una cadena vacia

const pais = ref('');

</script>


<template>
<select>
  <option value="">Seleccione un pais</option>
  <option value="mexico">México</option>
  <option value="brazil">brazil</option>
  <option value="colombia">Colombia</option>
</select>
</template>

<style scoped></style>


enlazamo la constante, al pais el valor de una cadena vacia marcara el valor hacia la constantecon v-model

<script setup>
import { ref } from 'vue'

const numero = ref(1);

//Definimos el valor en una cadena vacia

const pais = ref('');

</script>

<template>
<select v-model="pais">
  <option value="">Seleccione un pais</option>
  <option value="mexico">México</option>
  <option value="brazil">brazil</option>
  <option value="colombia">Colombia</option>
  </select>

  <p>
    {{ pais }}
  </p>

</template>


 

<style scoped></style>



En el ejemplo de paises con los checkboses